<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Server Advertisements – Job Alerts Pakistan</title>
  <meta name="google-adsense-account" content="ca-pub-9084951287340288">
  <meta name="google-site-verification" content="PRRrt7X2_Bozeoj4s2PxyAnvzWzzv97LjlX_u1QBjQY" />
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header>
    <nav>
      <a href="index.html">Home</a> |
      <a href="about.html">About Us</a> |
      <a href="privacy.html">Privacy Policy</a> |
      <a href="disclaimer.html">Disclaimer</a> |
      <a href="terms.html">Terms & Conditions</a> |
      <a href="contact.html">Contact Us</a>
    </nav>
    <h1>Job Advertisements</h1>
    <p>Latest Jobs from Newspapers in Pakistan – Rewritten & Verified</p>
  </header>

  <main>
    <section class="jobs">
      <h2>Recent Job Ads</h2>
      <label for="sort-select">Sort by:</label>
      <select id="sort-select" onchange="sortJobs()">
        <option value="soonest">Oldest Deadline</option>
        <option value="latest">Latest Deadline</option>
      </select>
      <div id="job-list">
        <!-- Jobs will be loaded here from static HTML + Google Sheets -->
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Server Advertisements. All rights reserved.</p>
  </footer>

  <script>
    function toggleShareMenu(button) {
      const menu = button.nextElementSibling;
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    function getJobTitleAndUrl(element) {
      const jobDiv = element.closest('.job');
      const title = jobDiv.querySelector('h3').innerText;
      const url = window.location.href.split('#')[0];
      return { title, url };
    }

    function shareOnFacebook(event, element) {
      event.preventDefault();
      const { url } = getJobTitleAndUrl(element);
      window.open(
        `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`,
        'ShareFacebook',
        'width=600,height=400'
      );
    }

    function shareOnTwitter(event, element) {
      event.preventDefault();
      const { title, url } = getJobTitleAndUrl(element);
      const text = `Check out this job: ${title}`;
      window.open(
        `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`,
        'ShareTwitter',
        'width=600,height=400'
      );
    }

    function shareOnLinkedIn(event, element) {
      event.preventDefault();
      const { url } = getJobTitleAndUrl(element);
      window.open(
        `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`,
        'ShareLinkedIn',
        'width=600,height=400'
      );
    }

    function shareByEmail(event, element) {
      event.preventDefault();
      const { title, url } = getJobTitleAndUrl(element);
      const subject = `Job Opportunity: ${title}`;
      const body = `I thought you might be interested in this job:\n\n${title}\n\nDetails here: ${url}`;
      window.location.href = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    }

    function shareOnWhatsApp(event, element) {
      event.preventDefault();
      const { title, url } = getJobTitleAndUrl(element);
      const message = `${title}\n\nCheck it out here:\n${url}`;
      window.open(
        `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`,
        'ShareWhatsApp',
        'width=600,height=400'
      );
    }

    function sortJobs() {
      const sortOption = document.getElementById('sort-select').value;
      const jobList = document.getElementById('job-list');
      const jobs = Array.from(jobList.querySelectorAll('.job'));
      jobs.sort((a, b) => {
        const dateA = new Date(a.getAttribute('data-deadline'));
        const dateB = new Date(b.getAttribute('data-deadline'));
        return sortOption === 'latest' ? dateB - dateA : dateA - dateB;
      });
      jobList.innerHTML = '';
      jobs.forEach(job => jobList.appendChild(job));
    }

    async function loadJobsFromSheet() {
      // Placeholder for Google Sheets fetch
      const url = "https://docs.google.com/spreadsheets/d/1_n6qYGMfMG2xNVkCzbr71Jjl4NfTSyV0aaas_tXgGIg/gviz/tq?tqx=out:json";
      try {
        const response = await fetch(url);
        const text = await response.text();
        // Process and add jobs dynamically here
        console.log("Jobs loaded from Google Sheet");
      } catch (error) {
        console.error("Failed to load jobs:", error);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      sortJobs();
      loadJobsFromSheet();
    });
  </script>
</body>
</html>

